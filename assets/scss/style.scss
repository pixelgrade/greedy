@import "compass"; 
@import "vendor/normalize/normalize";
@import "vendor/greedy/index";
// @import "icons/*.png";
@import "vendor/font-awesome/font-awesome";
@import "vendor/spectrum";


@mixin verticalGrid($ratio: $lineHeightBase) {
  @include background-image(linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0) 96%, rgba(0,0,0,.15) 96%, rgba(0,0,0,.15) 100%, rgba(0,0,0,0)));
  @include background-size($ratio * 1.5rem $ratio * 1.5rem);
}

.settings-container {
  position: fixed;
  @include rem(top, $unit);
  right: 0;
  @include rem(width, 1.5*$unit);
  @include rem(height, 1.5*$unit);
  background: white;
  text-align: center;
  @include rem(font-size, 20px);
  @include transition(all .3s ease-in-out);
  z-index: 9999999999999999;

  .settings-visible & {
    right: 300px;
  }

  a {
    color: $grayDarkest;
    text-decoration: none;
  }
}

.settings-visible {
  overflow: hidden;

  &:before {
    content: "";
    display: block;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(black, 0.25);
    z-index: 999999999;
  }
}

.settings {
  position: absolute;
  top: 0; left: 100%;
  background: white;
  width: 300px;
  height: auto;
  text-align: left;
  padding: 24px;
}

body {
  background: url('../img/bg.jpg') center no-repeat fixed;
  @include background-size(cover);
}

.rhytm-overlay {
  position: relative;

  &:after {
    content: "";
    display: block;
    position: absolute;
    top: 0; left: 0;
    z-index: 999999999;
    width: 100%;
    height: 100%;
    @include verticalGrid(1/2);
    pointer-events: none;
  }
}

#page { 
  background-color: white;
  @include rem(padding-top, 1.5*$unit);
  
  .l-boxed & { 
    width: $gridWidth;  
    @include rem(margin, 2*$unit auto);
  } 
}

.wrapper {
  @include rem(padding-right, 1.5*$unit);
  @include rem(padding-left, 1.5*$unit);
  
  .l-boxed & {
  }
}
 
.container { 
  @extend %grid; 
}

.row { 
  @extend %row;  
} 

.l-main, .l-side {
  @extend %span12;
}

.l-sidebar-right { 

  .l-main {
    @extend %lap-span8;
  }

  .l-side {
    @extend %lap-span4;
  }
}

.l-sidebar-left {

  .l-main {
    @extend %lap-span8;
    @extend %lap-push4;
  }

  .l-side {
    @extend %lap-span4;
    @extend %lap-pull8;
  }
}

.l-fullwidth {

  .l-main {
    @extend %lap-span12;
  }

  .l-side {
    display: none;
  }
}

.l-centered {

  .l-main {
    @extend %lap-span8;
    @extend %lap-offset2;
  }

  .l-side {
    display: none;
  }
}

// ul,
// ol, 
p {
  @include fs(16px);
}

.container-header {
  @include rem(min-height, 3.5*$unit);
}

%unstyled {
  list-style: none;
  padding-left: 0;
}

%menu-inline {
  @extend %clearfix;
  position: relative;

  & > li {
    display: inline-block;
    float: left;
  }
}

.inverse {
  background: $grayDarkest;

  &, a, %heading {
    color: $grayLightest;
  }
}

.nav {
  @extend %unstyled;
  @extend %menu-inline;
  position: relative;
  z-index: 100000;
  background: $grayLightest;

  li {
    position: relative;

    &.current, &:hover {
      background: $accentColor;
      color: white;

      & > a {
        color: white;
      }
    }

    &:hover {

      & > ul {
        display: block;
      }
    }
  }

  a {
    display: block;
    @include fs(14px);
    @include rem(padding, $unit/2 $unit);
    margin: 0;
    text-decoration: none;
    color: $grayDarkest;
  }

  ul {
    @extend %unstyled;
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    background: $grayLightest;

    a {
      @include rem(padding, $unit/4 2*$unit $unit/4 $unit);
    }

    li {
      @include rem(width, 200px);
    }
      
    ul {
      top: 0;
      left: 100%;
    }
  }

  &.inverse {
    background: $grayDarkest;

    a {
      color: $grayLightest;
    }

    ul {
      background: $grayDarkest;
    }
  }
}

.wrapper-footer {
  @include rem(padding-top, $unit);
  @include rem(padding-bottom, $unit);
}

// @include remux(0, hand, 14px, 18px) {}
// @include remux(hand, lap, 16px, 20px) {}
// @include remux(lap, desk, 18px, 24px) {}
// @include media(desk) {
//   html { 
//     font-size: percentage(24px/16px);
//   }
// }